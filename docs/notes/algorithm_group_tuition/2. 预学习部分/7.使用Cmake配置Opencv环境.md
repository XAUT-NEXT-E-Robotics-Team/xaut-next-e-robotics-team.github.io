---
title: ä½¿ç”¨Cmakeé…ç½®Opencvç¯å¢ƒ
createTime: 2025/07/01 21:05:05
permalink: /docs/algorithm_group_tuition/ex75xr7k/
---
<!--
 *  _   _  _______   _______   _____  
 * | \ | ||  ___\ \ / /_   _| |  ___| 
 * |  \| || |__  \ V /  | |   | |__   
 * | . ` ||  __| /   \  | |   |  __|  
 * | |\  || |___/ /^\ \ | |   | |___  
 * \_| \_/\____/\/   \/ \_/   \____/  
 * 
 * @Author: ziyu (Chen Zhaoyu)
 * @Date: 2025-07-01 21:05:05
 * @LastEditors: ziyu (Chen Zhaoyu)
 * @LastEditTime: 2025-07-10 01:17:44
 * @Description: 
 * Copyright (c) 2025 by XAUT NEXT-E/ziyu, All Rights Reserved. 
-->
---
title: ä½¿ç”¨Cmakeé…ç½®Opencvç¯å¢ƒ
createTime: 2025/07/01 21:05:05
permalink: /docs/algorithm_group_tuition/wwniaq8f/
---

<!--
 *  _   _  _______   _______   _____  
 * | \ | ||  ___\ \ / /_   _| |  ___| 
 * |  \| || |__  \ V /  | |   | |__   
 * | . ` ||  __| /   \  | |   |  __|  
 * | |\  || |___/ /^\ \ | |   | |___  
 * \_| \_/\____/\/   \/ \_/   \____/  
 * 
 * @Author: ziyu (Chen Zhaoyu)
 * @Date: 2025-07-01 21:05:05
 * @LastEditors: ziyu (Chen Zhaoyu)
 * @LastEditTime: 2025-07-01 21:05:34
 * @Description: 
 * Copyright (c) 2025 by XAUT NEXT-E/ziyu, All Rights Reserved. 
-->

![æˆ‘æ°¸è¿œå–œæ¬¢é›ªä¹‹ä¸‹é›ªä¹ƒ](https://img.picui.cn/free/2025/07/03/68664182110d6.jpg)

authorï¼šæˆ‘æ°¸è¿œå–œæ¬¢é›ªä¹‹ä¸‹é›ªä¹ƒ

## 0. ä»å“ªé‡Œå¼€å§‹

é¦–å…ˆï¼Œæ­å–œä½ ä»¬å·²ç»èµ°è¿‡äº†è¿™ä¹ˆè¿œï¼Œæ¥åˆ°äº†æˆ‘ä»¬çš„ç¬¬ä¸ƒèŠ‚ï¼šä½¿ç”¨Cmakeé…ç½®opencvç¯å¢ƒã€‚

æœ¬èŠ‚å°†å¼•å¯¼å„ä½è¾¾åˆ°ä»¥ä¸‹ç›®æ ‡
1. å¤ä¹ Cmakeçš„åŸºç¡€çŸ¥è¯†
2. å­¦ä¹ ä½¿ç”¨Cmakeå¼•å…¥ç¬¬ä¸‰æ–¹åº“
3. äº†è§£opencvçš„çš„åŸºæœ¬çŸ¥è¯†
4. è‡ªå·±ç‹¬ç«‹å®Œæˆä¸€ä¸ªopencvç¤ºä¾‹å°ç¨‹åº

::: tip æœ¬èŠ‚èµ„æºæ•´åˆ
| åç§° | è§†é¢‘æ•™ç¨‹ | æ–‡æ¡£æ•™ç¨‹ | å®˜æ–¹æ–‡æ¡£ |
| --- | --- | --- | --- | 
| cmake | [ğŸ“½ï¸]() | [ğŸ“]() | [ğŸ“’](https://cmake.org/cmake/help/latest/) |
| cmake  | [ğŸ“½ï¸]() | [ğŸ“]() | [ğŸ“’](https://cmake.org/cmake/help/latest/) |
| opencv aptå®‰è£… | [ğŸ“½ï¸]() | [ğŸ“]() | [ğŸ“’](https://docs.opencv.org/4.x/index.html) |
| opencv ç¼–è¯‘å®‰è£…+æ‰©å±•åº“ | [ğŸ“½ï¸]() | [ğŸ“]() | [ğŸ“’](https://docs.opencv.org/4.x/index.html) |
| opencv | [ğŸ“½ï¸]() | [ğŸ“]() | [ğŸ“’](https://docs.opencv.org/4.x/index.html) |
| cmake å¤æ‚åµŒå¥—é¡¹ç›®ç¼–å†™ | [ğŸ“½ï¸](https://www.bilibili.com/video/BV1nu411u7rb/) | | |
:::

## 1. Cmakeå†å­¦ä¹ 

å­¦ä¹ èµ„æ–™ï¼š[ğŸ“](https://zhuanlan.zhihu.com/p/631259689)

::: warning å” å” å¨å¨
å­¦ä¹ èµ„æ–™**å¹¶ä¸**è¦æ±‚ä½ å®Œå…¨é˜…è¯»å’Œç†è§£ï¼Œä½ åªéœ€è¦æŒæ¡ä»¥ä¸‹å‡ ç‚¹å¹¶å®Œæˆæœ¬ç« ä»»åŠ¡å³å¯
:::

ä½ çš„å­¦ä¹ ç›®æ ‡ï¼š
1. å­¦ä¹ ä½¿ç”¨ `find_package()`ï¼Œè¿™æ˜¯ä½ å­¦ä¼šé“¾æ¥ç¬¬ä¸‰æ–¹åº“çš„é‡è¦æ‰‹æ®µã€‚å¦‚æœå­¦å¾—éå¸¸å¥½ï¼Œèƒ½å¤Ÿå¾—åˆ°ä¸Šå±Šç»„é•¿çš„å…³æ€€å“¦ğŸ˜ğŸ˜ğŸ˜ã€‚
2. å­¦ä¼šä½¿ç”¨ `find_package()` çš„å‘½ä»¤ç”¨æ³•ï¼Œ
3. ç†è§£ `find_package()` çš„åŸºæœ¬è¯­æ³•å’Œå‚æ•°è®¾ç½®ï¼Œ
4. æŒæ¡å¦‚ä½•æŸ¥æ‰¾å’Œé“¾æ¥å¸¸è§çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Boostã€OpenCV ç­‰ï¼‰ï¼Œ
5. èƒ½å¤Ÿé˜…è¯»å’Œç¼–å†™è‡ªå®šä¹‰çš„ `FindXXX.cmake` æ¨¡å—ï¼Œ
6. äº†è§£ `find_package()` çš„ REQUIREDã€QUIETã€COMPONENTS ç­‰å¸¸ç”¨é€‰é¡¹ï¼Œ
7. å­¦ä¼šåœ¨ CMake é¡¹ç›®ä¸­é›†æˆå’Œç®¡ç†å¤–éƒ¨ä¾èµ–ã€‚

å¥½çš„ï¼Œå¦‚æœåˆ°è¿™é‡Œä½ å·²ç»å­¦ä¼šæ‰€æœ‰çš„è¯ï¼Œé‚£ä½ çœŸçš„è¿˜æ˜¯å¤ªæœ‰å®åŠ›äº†ğŸ˜˜ğŸ˜˜ğŸ˜˜ğŸ˜˜ï¼Œä¸ç®¡æ€ä¹ˆæ ·ï¼Œä½ å·²ç»å¯ä»¥è¿›å…¥ä¸‹ä¸€æ¨¡å—äº†ã€‚

## 2. å®‰è£…opencv

::: tip è¯•è¯•STFW
å°è¯•åœ¨ç½‘ä¸Šæœç´¢ä½¿ç”¨ç¼–è¯‘å®‰è£…æˆ–aptå®‰è£…çš„æ–¹å¼å®‰è£…opencv
:::

## 3. é…ç½®opencv

::: tip è¯•è¯• By you hand
ç›¸ä¿¡ä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨cmakeå¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œè¯·æŠŠé…ç½®opencvä½œä¸ºç»ƒæ‰‹å§ï¼

åˆ«å¿˜äº†ï¼šSTFW RTFM æ˜¯ä½ é‡åˆ°é—®é¢˜æœ€å…ˆè¯‰è¯¸çš„æ‰‹æ®µ
:::

## 4. æ£€éªŒä½ çš„é…ç½®æˆæœ

```
/*
 * @Author: ei-code-bash 3080152159@qq.com
 * @Date: 2025-07-05 13:47:11
 * @LastEditors: ei-code-bash 3080152159@qq.com
 * @LastEditTime: 2025-07-05 14:58:00
 * @FilePath: /test/test.cpp
 * @Description: è¿™æ˜¯é»˜è®¤è®¾ç½®,è¯·è®¾ç½®`customMade`, æ‰“å¼€koroFileHeaderæŸ¥çœ‹é…ç½® è¿›è¡Œè®¾ç½®: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%A
 */
#include<iostream>
#include<opencv2/opencv.hpp>
#include<ctime>
#include<cstdlib>
void snow(cv::Mat&image,int numsnowflakes)
{
    srand(time(0));
    for(int i=0;i<numsnowflakes;i++)
    {
        int x=rand()%image.cols;
        int y=rand()%image.rows;
        int radius=rand()%5+2;
        cv::Scalar snowflower(255,255,255);
        cv::circle(image,cv::Point(x,y),radius,snowflower,-1);
    }
}
int main()
{
    cv::Mat image=cv::imread("/home/ei/Downloads/R-C.jpeg");
    if(image.empty())
    {
        std::cerr<<"fuck,there is no image"<<std::endl;
        throw"the input is error";
    }
    double alpha=0.8;
    int beta=10;
    cv::Mat adjusted_image;
    cv::Mat blurred_image;
    cv::Mat smooth_image;
    // cv::Mat image_with_snow;
    image.convertTo(adjusted_image,-1,alpha,beta);
    cv::GaussianBlur(adjusted_image,blurred_image,cv::Size(15,15),0);
    cv::bilateralFilter(blurred_image,smooth_image,9,75,75);
    cv::Mat image_with_snow=smooth_image.clone();
    snow(image_with_snow,500);
    cv::imshow("frame",image_with_snow);
    cv::waitKey(0);
    cv::destroyAllWindows();
    return 0;
}
```